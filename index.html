<!DOCTYPE html>
<html>
<body>
    <button id="rock">ROCK</button>
    <button id="paper">PAPER</button>
    <button id="scissors">SCISSORS</button>
    <div id="score"></div>
</body>
</html>


<script>
    let playerScore = 0;
    let computerScore = 0;

    function computerPlay(){
        return (Math.floor(Math.random() * 3) + 1) 
        //returns 1-3 value; 1:rock, 2:paper, 3:scissors
    }
    function getString(value){ 
        switch(value){
            case 1: return "Rock"; break;
            case 2: return "Paper"; break;
            case 3: return "Scissors"; break;
        }
    }

    function capitalize(str){ 
		let newStr = str.toLowerCase();
		newStr = newStr.charAt(0).toUpperCase() + newStr.slice(1)
		return newStr;
    }

    function tieResults(playerChoice){
        const score = document.querySelector("#score");
        const result = document.createElement('div');
        result.textContent = "It's a Tie! You both chose " + playerChoice + "!";
        score.appendChild(result);
    }
    function loseResult(playerChoice, computerChoice){
        const score = document.querySelector("#score");
        const result = document.createElement('div');
        result.textContent = " You Lose! " + computerChoice + " beats " + playerChoice + "!";
        score.appendChild(result);

        computerScore++;
    }
    function winResult(playerChoice, computerChoice){
        const score = document.querySelector("#score");
        const result = document.createElement('div');
        result.textContent = " You Win! " + playerChoice + " beats " + computerChoice + "!";
        score.appendChild(result);

        playerScore++;
    }
    
    

    function playRound(playerSelection){
        //let playerSelection = prompt("Enter Rock, Paper, or Scissors!");
        let computerSelection = computerPlay();
        playerSelection = playerSelection.toLowerCase(); //to make case insentive
        let computerString = getString(computerSelection); //convert computer choice into string selection

        playerSelection = capitalize(playerSelection); // Capitalize string for better format
        computerString = capitalize(computerString);

        switch(playerSelection){ //computerSelection value:  1:rock, 2:paper, 3:scissors
            case "Rock":
                console.log("Rock"); 
                switch(computerSelection){
                    case 1: 
                        console.log(" It's a Tie! " + "You both chose " + playerSelection + "!"); 
                        tieResults(playerSelection);
                        break;
                    case 2: 
                        console.log(" You Lose! " + computerString + " beats " + playerSelection + "!"); 
                        loseResult(playerSelection, computerString);
                        break;
                    case 3: 
                        console.log(" You Win! " + playerSelection + " beats " + computerString + "!"); 
                        winResult(playerSelection, computerString);
                }
                break;
            case "Paper":
                console.log("Paper");
                switch(computerSelection){
                    case 1: console.log(" You Win! " + playerSelection + " beats " + computerString + "!"); 
                    winResult(playerSelection, computerString);
                    break;
                    case 2: 
                        console.log(" It's a Tie! " + "You both chose " + playerSelection + "!"); 
                        tieResults(playerSelection);
                    break;
                    case 3: console.log(" You Lose! " + computerString + " beats " + playerSelection + "!"); 
                    loseResult(playerSelection, computerString);
                }
                break;
            case "Scissors":
                console.log("Scissors")
                switch(computerSelection){
                    case 1: console.log(" You Lose! " + computerString + " beats " + playerSelection + "!"); 
                    loseResult(playerSelection, computerString);
                    break;
                    case 2: console.log(" You Win! " + playerSelection + " beats " + computerString + "!"); 
                    winResult(playerSelection, computerString);
                    break;
                    case 3: 
                        console.log(" It's a Tie! " + "You both chose " + playerSelection + "!");
                        tieResults(playerSelection);
                }
                break;
            default:
                console.log("Error!")
        }

    }
    
    function game(){
        playerScore = 0;
        computerScore = 0;

        const score = document.querySelector("#score");
        const total = document.createElement('div');
        total.textContent = "Total Score: Player:" + playerScore + " Computer:" + computerScore; 
        score.appendChild(total);

        const gameover = document.createElement('h1');

        document.getElementById("rock").addEventListener("click",function(){
            if(playerScore + computerScore < 5){
            playRound("rock");
            total.innerHTML = "Total Score: Player:" + playerScore + " Computer:" + computerScore; //updates total running score
            }
            else{
                if(playerScore < computerScore){
                gameover.textContent = "GAME OVER! YOU LOSE!!!"
                score.appendChild(gameover);
                }else if(playerScore > computerScore){
                gameover.textContent = "GAME OVER! YOU WIN!!!"
                score.appendChild(gameover);
                }
                 else{
                gameover.textContent = "GAME OVER! IT'S A TIE!!!"
                score.appendChild(gameover);
                }
            }
        });

        document.getElementById("paper").addEventListener("click",function(){
            if(playerScore + computerScore < 5){
            playRound("paper");
            total.innerHTML = "Total Score: Player:" + playerScore + " Computer:" + computerScore;
        }
            else{
                if(playerScore < computerScore){
                gameover.textContent = "GAME OVER! YOU LOSE!!!"
                score.appendChild(gameover);
                }else if(playerScore > computerScore){
                gameover.textContent = "GAME OVER! YOU WIN!!!"
                score.appendChild(gameover);
                }
                 else{
                gameover.textContent = "GAME OVER! IT'S A TIE!!!"
                score.appendChild(gameover);
                }
            }
        });

        document.getElementById("scissors").addEventListener("click",function(){
            if(playerScore + computerScore < 5){
            playRound("scissors");
            total.innerHTML = "Total Score: Player:" + playerScore + " Computer:" + computerScore;
            }
            else{
                if(playerScore < computerScore){
                gameover.textContent = "GAME OVER! YOU LOSE!!!"
                score.appendChild(gameover);
                }else if(playerScore > computerScore){
                gameover.textContent = "GAME OVER! YOU WIN!!!"
                score.appendChild(gameover);
                }
                 else{
                gameover.textContent = "GAME OVER! IT'S A TIE!!!"
                score.appendChild(gameover);
                }
            }
        });

        

    }

    game();
    
    

</script>